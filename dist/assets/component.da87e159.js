import{f as i}from"./index.f7b24e3d.js";import{s as d,x as h,E as c}from"./index.e0205fad.js";const r=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],m=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function s(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function l(e){return e instanceof Array?e:[e]}function a(e){return e&&e.length?e:null}const o=[...r,...m],C=["locale","showMonths"];var y=d({name:"FlatPickr",compatConfig:{MODE:3},render(){return h("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...o.map(s)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>r},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=i(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let e=Object.assign({},this.config);this.events.forEach(n=>{let u=i.defaultConfig[n]||[],f=(...p)=>{this.$emit(s(n),...p)};e[n]=l(e[n]||[]).concat(u,f)});const t=this.onClose.bind(this);return e.onClose=l(e.onClose||[]).concat(t),e.defaultDate=this.modelValue||e.defaultDate,e},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(e){const t=e.target;c().then(()=>{this.$emit("update:modelValue",a(t.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(e){this.$emit("blur",a(e.target.value))},onClose(e,t){this.$emit("update:modelValue",t)},watchDisabled(e){e?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(e){if(!this.fp)return;let t=Object.assign({},e);o.forEach(n=>{delete t[n]}),this.fp.set(t),C.forEach(n=>{typeof t[n]!="undefined"&&this.fp.set(n,t[n])})}},modelValue(e){var t;!this.$el||e===a(this.$el.value)||(t=this.fp)===null||t===void 0||t.setDate(e,!0)}},beforeUnmount(){!this.fp||(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});export{y as C};
