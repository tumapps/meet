import{_ as R,A as C,j as o,c as n,b as s,a as B,f as V,e as f,m,J as y,G as _,t as u,n as b,R as T,u as A,o as i,X as D,p as I}from"./index.8cdfa475.js";import"./pdfjs.7adb8c57.js";const M={class:"d-flex vh-100 maindiv"},N={class:"container my-auto"},$={class:"row justify-content-md-center align-items-center"},S={class:"col-12 col-md-11 col-lg-8 col-xl-7 col-xxl-6"},j={class:"bg- p-4 p-md-5 rounded shadow-sm bg-white"},U={class:"row gy-3 gy-md-4 overflow-hidden"},q={class:"col-12"},z={class:"input-group"},E=["type"],G={key:0,class:"error","aria-live":"polite"},J={class:"col-12"},L={class:"input-group"},X=["type"],F={key:0,class:"error","aria-live":"polite"},H={key:1,class:"error","aria-live":"polite"},K={__name:"ResetPassword",setup(O){const g=C(),P=T(),h=A(),{proxy:v}=I(),c=o(""),p=o(""),t=o({password:"",repeatPassword:"",general:""}),w=o(!1),x=P.query.token,k=async()=>{t.value={password:"",repeatPassword:"",general:""};try{w.value=!0;const a=await g.post("/v1/auth/reset-password",{token:x,password:c.value,confirm_password:p.value});a.data.toastPayload&&(v.$showAlert({title:a.data.toastPayload.toastTheme,text:a.data.toastPayload.toastMessage,icon:a.data.toastPayload.toastTheme,timer:2e3,showConfirmButton:!1,showCancelButton:!1}),h.push("/"))}catch(a){if(a.response&&a.response.status===422&&a.response.data.errorPayload){const e=a.response.data.errorPayload.errors;t.value.password=e.password||"",t.value.repeatPassword=e.repeatPassword||"",t.value.general=e.message||""}a.response.status!==422&&v.$showAlert({title:a.response.data.errorPayload.toastTheme,text:a.response.data.errorPayload.toastMessage,icon:a.response.data.errorPayload.toastTheme,showCancelButton:!1,showConfirmButton:!1})}finally{w.value=!1}},l=o(!1),d=o(!1);return(a,e)=>(i(),n("div",M,[s("div",N,[s("div",$,[s("div",S,[s("div",j,[e[7]||(e[7]=B('<div class="row gy-3 mb-5" data-v-d9bdcbf4><div class="col-12" data-v-d9bdcbf4><div class="text-center" data-v-d9bdcbf4><img src="'+D+'" alt="tum-logo" data-v-d9bdcbf4></div></div><div class="col-12 mt-5" data-v-d9bdcbf4><h2 class="fs-6 fw-bolder text-center text-secondary m-0 px-md-5" data-v-d9bdcbf4>Reset Password</h2></div></div>',1)),s("form",{onSubmit:V(k,["prevent"])},[s("div",U,[s("div",q,[e[4]||(e[4]=s("label",{for:"password",class:"form-label"},[f("Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",z,[m(s("input",{type:l.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),class:"form-control",name:"password",id:"password"},null,8,E),[[y,c.value]]),s("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[1]||(e[1]=r=>l.value=!l.value)},[s("i",{class:_(l.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])]),t.value.password?(i(),n("div",G,u(t.value.password),1)):b("",!0)]),s("div",J,[e[5]||(e[5]=s("label",{for:"repeatPassword",class:"form-label"},[f("Repeat Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",L,[m(s("input",{type:d.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=r=>p.value=r),class:"form-control",name:"repeatPassword",id:"repeatPassword"},null,8,X),[[y,p.value]]),s("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[3]||(e[3]=r=>d.value=!d.value)},[s("i",{class:_(d.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])]),t.value.repeatPassword?(i(),n("div",F,u(t.value.repeatPassword),1)):t.value.general?(i(),n("div",H,u(t.value.general),1)):b("",!0)]),e[6]||(e[6]=s("div",{class:"col-12"},[s("div",{class:"d-grid"},[s("button",{value:"submit",class:"btn btn-primary btn-lg",type:"submit"},"Reset Password")])],-1))])],32)])])])])]))}};var Y=R(K,[["__scopeId","data-v-d9bdcbf4"]]);export{Y as default};
