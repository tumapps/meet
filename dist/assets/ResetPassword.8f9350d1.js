import{_ as R,A as C,j as o,c as n,b as s,a as B,f as V,e as f,m as y,J as _,G as g,t as u,n as P,R as A,u as D,o as i,X as I,p as N}from"./index.e0205fad.js";import"./pdfjs.7adb8c57.js";const $={class:"d-flex vh-100 maindiv"},S={class:"container my-auto"},j={class:"row justify-content-md-center align-items-center"},M={class:"col-12 col-md-11 col-lg-8 col-xl-7 col-xxl-6"},U={class:"bg- p-4 p-md-5 rounded shadow-sm bg-white"},q={class:"row gy-3 gy-md-4 overflow-hidden"},z={class:"col-12"},E={class:"input-group"},G=["type"],J={key:0,class:"error","aria-live":"polite"},L={class:"col-12"},T={class:"input-group"},X=["type"],F={key:0,class:"error","aria-live":"polite"},H={key:1,class:"error","aria-live":"polite"},K={__name:"ResetPassword",setup(O){const h=C(),x=A(),b=D(),{proxy:v}=N(),c=o(""),p=o(""),t=o({password:"",repeatPassword:"",general:""}),w=o(!1),m=x.query.token;console.log(m);const k=async()=>{t.value={password:"",repeatPassword:"",general:""};try{w.value=!0;const a=await h.post("/v1/iam/auth/reset-password",{token:m,password:c.value,confirm_password:p.value});a.data.alertifyPayload&&(v.$showAlert({title:a.data.alertifyPayload.theme,text:a.data.alertifyPayload.message,icon:a.data.alertifyPayload.theme,timer:2e3,showConfirmButton:!1,showCancelButton:!1}),b.push("/"))}catch(a){if(console.log(a),a.response&&a.response.status===422&&a.response.data.errorPayload){const e=a.response.data.errorPayload.errors;t.value.password=e.password||"",t.value.repeatPassword=e.repeatPassword||"",t.value.general=e.message||""}a.response.status!==422&&v.$showAlert({title:a.response.data.errorPayload.theme,text:a.response.data.errorPayload.message,icon:a.response.data.errorPayload.theme,showCancelButton:!1,showConfirmButton:!1})}finally{w.value=!1}},l=o(!1),d=o(!1);return(a,e)=>(i(),n("div",$,[s("div",S,[s("div",j,[s("div",M,[s("div",U,[e[7]||(e[7]=B('<div class="row gy-3 mb-5" data-v-b6dc1100><div class="col-12" data-v-b6dc1100><div class="text-center" data-v-b6dc1100><img src="'+I+'" alt="tum-logo" data-v-b6dc1100></div></div><div class="col-12 mt-5" data-v-b6dc1100><h2 class="fs-6 fw-bolder text-center text-secondary m-0 px-md-5" data-v-b6dc1100>Reset Password</h2></div></div>',1)),s("form",{onSubmit:V(k,["prevent"])},[s("div",q,[s("div",z,[e[4]||(e[4]=s("label",{for:"password",class:"form-label"},[f("Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",E,[y(s("input",{type:l.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),class:"form-control",name:"password",id:"password"},null,8,G),[[_,c.value]]),s("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[1]||(e[1]=r=>l.value=!l.value)},[s("i",{class:g(l.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])]),t.value.password?(i(),n("div",J,u(t.value.password),1)):P("",!0)]),s("div",L,[e[5]||(e[5]=s("label",{for:"repeatPassword",class:"form-label"},[f("Repeat Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",T,[y(s("input",{type:d.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=r=>p.value=r),class:"form-control",name:"repeatPassword",id:"repeatPassword"},null,8,X),[[_,p.value]]),s("span",{class:"input-group-text",style:{cursor:"pointer"},onClick:e[3]||(e[3]=r=>d.value=!d.value)},[s("i",{class:g(d.value?"fas fa-eye":"fas fa-eye-slash")},null,2)])]),t.value.repeatPassword?(i(),n("div",F,u(t.value.repeatPassword),1)):t.value.general?(i(),n("div",H,u(t.value.general),1)):P("",!0)]),e[6]||(e[6]=s("div",{class:"col-12"},[s("div",{class:"d-grid"},[s("button",{value:"submit",class:"btn btn-primary btn-lg",type:"submit"},"Reset Password")])],-1))])],32)])])])])]))}};var Y=R(K,[["__scopeId","data-v-b6dc1100"]]);export{Y as default};
