import{_ as R,j as d,A as N,k as $,q as j,r as p,o as u,c as m,d as o,w as l,b as t,t as c,m as D,v as P,n as f,l as g,e as q,F as z,p as H}from"./index.848ef5b1.js";import{_ as G}from"./01.e8096b20.js";import{F as J}from"./FullCalender.b0a7494b.js";import{C as b}from"./component.27d09517.js";import"./pdfjs.7adb8c57.js";import"./preact.module.d54d54b6.js";import"./AddEvent.e0c89a12.js";const K={class:"d-flex flex-wrap align-items-center justify-content-between"},L={class:"d-flex flex-wrap align-items-center"},O={class:"d-flex flex-wrap align-items-center"},Q={class:"me-2 h4 mb-0"},W={class:""},X={class:"mb-3"},Y={key:0,class:"error","aria-live":"polite"},Z={class:"mb-3"},ee={key:0,class:"error","aria-live":"polite"},te={class:"mb-3"},oe={key:0,class:"error","aria-live":"polite"},le={class:"mb-3"},se={key:0,class:"error","aria-live":"polite"},ae={class:"mb-3"},re={key:0,class:"error","aria-live":"polite"},ne={class:"mb-3"},ie={key:0,class:"error","aria-live":"polite"},de={class:"d-flex justify-content-center mt-5"},ue="Registrar",me={__name:"RegistrarDashView",setup(ce){const y=d(""),{proxy:w}=H(),T=N(),s=d(""),_=d(null),h=$(),k=d(""),C=d("");C.value=h.getRole();const x=d({title:"",description:"",start_date:"",end_date:"",start_time:"",end_time:""}),a=d({...x.value}),E=()=>{a.value={...x.value}},A=()=>{s.value={}},U=()=>{_.value&&_.value.show()},B=()=>{_.value&&_.value.hide()};function I(){A(),E()}const M=async()=>{var i;try{const e=await T.post("/v1/scheduler/events",a.value);B(),e.data.toastPayload?(y.value=e.data.toastPayload,w.$showAlert({title:y.value.toastMessage,icon:y.value.toastTheme,showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0})):w.$showToast({title:"success",icon:"success"})}catch(e){if(e.response&&e.response.data.errorPayload)s.value=e.response.data.errorPayload.errors;else{const V=((i=e.response.data.errorPayload.errors)==null?void 0:i.message)||"An error occurred";w.$showToast({title:"An error occurred",text:V,icon:"error"})}}};return j(()=>{k.value=localStorage.getItem("user.username")}),(i,e)=>{const V=p("b-card"),n=p("b-col"),v=p("b-row"),S=p("b-button"),F=p("b-modal");return u(),m(z,null,[o(v,null,{default:l(()=>[o(n,{lg:"12",md:"12"},{default:l(()=>[e[8]||(e[8]=t("div",{class:"headerimage"},null,-1)),o(V,null,{default:l(()=>[t("div",K,[t("div",L,[e[7]||(e[7]=t("div",{class:"profile-img position-relative me-3 mb-3 mb-lg-0 profile-logo profile-logo1"},[t("img",{src:G,alt:"User-Profile",class:"img-fluid rounded-pill avatar-100"})],-1)),t("div",O,[t("h4",Q,c(k.value),1)])])])]),_:1})]),_:1})]),_:1}),o(v,null,{default:l(()=>[o(n,{lg:"12"},{default:l(()=>[t("div",W,[o(J,{dashType:ue,onCreateEvent:U})])]),_:1})]),_:1}),o(F,{ref_key:"newEvent",ref:_,title:"Add Event",class:"modal-fullscreen my-modal","no-close-on-backdrop":"","no-close-on-esc":"",size:"xl","hide-footer":"",onHide:I},{default:l(()=>[o(v,null,{default:l(()=>[o(n,{md:"12"},{default:l(()=>[t("div",X,[e[9]||(e[9]=t("label",{for:"startDatePicker",class:"form-label"},"Title",-1)),D(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>a.value.title=r),class:"form-control",id:"name"},null,512),[[P,a.value.title]])]),s.value.title?(u(),m("div",Y,c(s.value.title),1)):f("",!0)]),_:1})]),_:1}),o(v,null,{default:l(()=>[o(n,{md:"12"},{default:l(()=>[t("div",Z,[e[10]||(e[10]=t("label",{for:"levelDropdown",class:"form-label"},"Start Date ",-1)),o(g(b),{modelValue:a.value.start_date,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.start_date=r),class:"form-control",config:i.config,id:"startDatePicker"},null,8,["modelValue","config"])]),s.value.date?(u(),m("div",ee,c(s.value.start_date),1)):f("",!0)]),_:1}),o(n,{md:"12"},{default:l(()=>[t("div",te,[e[11]||(e[11]=t("label",{for:"levelDropdown",class:"form-label"},"End Date ",-1)),o(g(b),{modelValue:a.value.end_date,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.end_date=r),class:"form-control",config:i.config,id:"startDatePicker"},null,8,["modelValue","config"])]),s.value.end_date?(u(),m("div",oe,c(s.value.end_date),1)):f("",!0)]),_:1})]),_:1}),o(v,null,{default:l(()=>[o(n,{md:"6"},{default:l(()=>[t("div",le,[e[12]||(e[12]=t("label",{for:"startTimePicker",class:"form-label"},"Start Time",-1)),o(g(b),{modelValue:a.value.start_time,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.start_time=r),class:"form-control",config:i.config2,id:"startTimePicker"},null,8,["modelValue","config"])]),s.value.start_time?(u(),m("div",se,c(s.value.start_time),1)):f("",!0)]),_:1}),o(n,{md:"6"},{default:l(()=>[t("div",ae,[e[13]||(e[13]=t("label",{for:"endTimePicker",class:"form-label"},"End Time",-1)),o(g(b),{modelValue:a.value.end_time,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.end_time=r),class:"form-control",config:i.config2,id:"endTimePicker"},null,8,["modelValue","config"])]),s.value.end_time?(u(),m("div",re,c(s.value.end_time),1)):f("",!0)]),_:1})]),_:1}),o(v,null,{default:l(()=>[o(n,{md:"12"},{default:l(()=>[t("div",ne,[e[14]||(e[14]=t("label",{for:"description",class:"form-label"},"Description",-1)),D(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.description=r),class:"form-control",id:"description",rows:"5"},null,512),[[P,a.value.description]])]),s.value.description?(u(),m("div",ie,c(s.value.description),1)):f("",!0)]),_:1})]),_:1}),t("div",de,[o(S,{onClick:e[6]||(e[6]=r=>M()),variant:"primary"},{default:l(()=>e[15]||(e[15]=[q("Create")])),_:1})])]),_:1},512)],64)}}};var we=R(me,[["__scopeId","data-v-9f7df2ec"]]);export{we as default};
