import{_ as x,A as h,h as t,c as r,b as s,a as b,C as k,e as w,k as _,v as m,t as c,l as y,B as R,o as d,N as V,m as A}from"./index.2edcf246.js";const N={class:"d-flex vh-100"},B={class:"container my-auto"},I={class:"row justify-content-md-center align-items-center"},C={class:"col-12 col-md-11 col-lg-8 col-xl-7 col-xxl-6"},D={class:"bg- p-4 p-md-5 rounded shadow-sm"},S={class:"row gy-3 gy-md-4 overflow-hidden"},M={class:"col-12"},T={class:"input-group"},U={key:0,class:"error","aria-live":"polite"},$={class:"col-12"},j={class:"input-group"},q={key:0,class:"error","aria-live":"polite"},E={key:1,class:"error","aria-live":"polite"},L={__name:"ResetPassword",setup(O){const g=h(),p=R(),{proxy:u}=A(),l=t(""),n=t(""),a=t({password:"",repeatPassword:"",general:""}),v=t(!1),f=p.query.token,P=async()=>{a.value={password:"",repeatPassword:"",general:""};try{v.value=!0;const o=await g.post("/v1/auth/reset-password",{token:f,password:l.value,confirm_password:n.value});o.data.dataPayload&&!o.data.dataPayload.error&&(u.$showAlert({title:"success",text:"Password reset successfully!",icon:"success"}),p.push("/auth/login"))}catch(o){if(o.response&&o.response.status===422&&o.response.data.errorPayload){const e=o.response.data.errorPayload.errors;a.value.password=e.password||"",a.value.repeatPassword=e.repeatPassword||"",a.value.general=e.message||"",u.$showAlert({title:"An error occurred ",text:"Ooops! an error has occured while resetting your password!",icon:"error"})}}finally{v.value=!1}};return(o,e)=>(d(),r("div",N,[s("div",B,[s("div",I,[s("div",C,[s("div",D,[e[5]||(e[5]=b('<div class="row gy-3 mb-5" data-v-044eeace><div class="col-12" data-v-044eeace><div class="text-center" data-v-044eeace><img src="'+V+'" alt="tum-logo" data-v-044eeace></div></div><div class="col-12 mt-5" data-v-044eeace><h2 class="fs-6 fw-bolder text-center text-secondary m-0 px-md-5" data-v-044eeace> Reset Password </h2></div></div>',1)),s("form",{onSubmit:k(P,["prevent"])},[s("div",S,[s("div",M,[e[2]||(e[2]=s("label",{for:"password",class:"form-label"},[w("Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",T,[_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>l.value=i),type:"password",class:"form-control",name:"password",id:"password"},null,512),[[m,l.value]])]),a.value.password?(d(),r("div",U,c(a.value.password),1)):y("",!0)]),s("div",$,[e[3]||(e[3]=s("label",{for:"repeatPassword",class:"form-label"},[w("Repeat Password "),s("span",{class:"text-danger"},"*")],-1)),s("div",j,[_(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),type:"password",class:"form-control",name:"repeatPassword",id:"repeatPassword"},null,512),[[m,n.value]])]),a.value.repeatPassword?(d(),r("div",q,c(a.value.repeatPassword),1)):a.value.general?(d(),r("div",E,c(a.value.general),1)):y("",!0)]),e[4]||(e[4]=s("div",{class:"col-12"},[s("div",{class:"d-grid"},[s("button",{value:"submit",class:"btn btn-primary btn-lg",type:"submit"},"Reset Password")])],-1))])],32)])])])])]))}};var F=x(L,[["__scopeId","data-v-044eeace"]]);export{F as default};
