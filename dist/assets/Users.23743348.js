import{_ as F,A as j,h as m,r,o as p,f as Z,w as o,d as s,b as e,e as g,y as v,m as O,z as q,s as E,c as b,k as H,B as Q,F as $,C as V,t as w}from"./index.5a43fe89.js";import{_ as G,a as J,b as K}from"./FinishComponent.ec08f0bc.js";const R={class:"header-title"},W={id:"top-tab-list",class:"p-0 row list-inline"},X={__name:"AddUser",setup(B){const A=j(),n=m(1),{proxy:_}=O(),d=m({username:"",password:"",confirm_password:"",first_name:"",middle_name:"",last_name:"",mobile_number:"",email_address:""}),C=i=>{n.value=i},c=i=>{d.value={...d.value,...i}},f=i=>{d.value={...d.value,...i}},h=async()=>{try{const i=await A.post("/v1/auth/register",d.value);_.$showAlert({title:"Account created successfully",text:"account has been created successfully!",icon:"success"}),n.value=3}catch{_.$showToast({title:"An error occurred ",text:"Ooops! an error has occured while creating the account!",icon:"error"})}};return(i,u)=>{const U=r("b-card-title"),y=r("b-card-header"),k=r("b-form"),x=r("b-card-body"),D=r("b-card"),l=r("b-col"),t=r("b-row"),P=r("b-modal");return p(),Z(P,{ref:"addUserModal",title:"Book Appointment",class:"modal-fullscreen my-modal","no-close-on-backdrop":"","no-close-on-esc":"",size:"xl","hide-footer":""},{default:o(()=>[s(t,{class:"justify-content-center align-items-center",style:{"min-height":"100vh"}},{default:o(()=>[s(l,{sm:"12",lg:"12"},{default:o(()=>[s(D,{"no-body":""},{default:o(()=>[s(y,{class:"d-flex justify-content-between"},{default:o(()=>[e("div",R,[s(U,null,{default:o(()=>u[0]||(u[0]=[g("Account info")])),_:1})])]),_:1}),s(x,null,{default:o(()=>[s(k,{id:"form-wizard1",class:"text-center mt-3"},{default:o(()=>[e("ul",W,[e("li",{class:v(["col-lg-3","col-md-6","mb-3","text-start",n.value==1?"active":"",n.value>1?"done active":""]),id:"account"},u[1]||(u[1]=[e("a",{href:"javascript:void(0);"},[e("div",{class:"iq-icon me-3"},[e("svg",{class:"icon-20 svg-icon",width:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.4",d:"M8.23918 8.70907V7.36726C8.24934 5.37044 9.92597 3.73939 11.9989 3.73939C13.5841 3.73939 15.0067 4.72339 15.5249 6.19541C15.6976 6.65262 16.2057 6.89017 16.663 6.73213C16.8865 6.66156 17.0694 6.50253 17.171 6.29381C17.2727 6.08508 17.293 5.84654 17.2117 5.62787C16.4394 3.46208 14.3462 2 11.9786 2C8.95048 2 6.48126 4.41626 6.46094 7.38714V8.91084L8.23918 8.70907Z",fill:"currentColor"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.7688 8.71118H16.2312C18.5886 8.71118 20.5 10.5808 20.5 12.8867V17.8246C20.5 20.1305 18.5886 22.0001 16.2312 22.0001H7.7688C5.41136 22.0001 3.5 20.1305 3.5 17.8246V12.8867C3.5 10.5808 5.41136 8.71118 7.7688 8.71118ZM11.9949 17.3286C12.4928 17.3286 12.8891 16.941 12.8891 16.454V14.2474C12.8891 13.7703 12.4928 13.3827 11.9949 13.3827C11.5072 13.3827 11.1109 13.7703 11.1109 14.2474V16.454C11.1109 16.941 11.5072 17.3286 11.9949 17.3286Z",fill:"currentColor"})])]),e("span",null," Account")],-1)]),2),e("li",{class:v(["col-lg-3","col-md-6","mb-3","text-start",n.value==2?"active":"",n.value>1?"done active":""]),id:"personal"},u[2]||(u[2]=[e("a",{href:"javascript:void(0);"},[e("div",{class:"iq-icon me-3"},[e("svg",{class:"icon-20",width:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11.997 15.1746C7.684 15.1746 4 15.8546 4 18.5746C4 21.2956 7.661 21.9996 11.997 21.9996C16.31 21.9996 19.994 21.3206 19.994 18.5996C19.994 15.8786 16.334 15.1746 11.997 15.1746Z",fill:"currentColor"}),e("path",{opacity:"0.4",d:"M11.9971 12.5838C14.9351 12.5838 17.2891 10.2288 17.2891 7.29176C17.2891 4.35476 14.9351 1.99976 11.9971 1.99976C9.06008 1.99976 6.70508 4.35476 6.70508 7.29176C6.70508 10.2288 9.06008 12.5838 11.9971 12.5838Z",fill:"currentColor"})])]),e("span",{class:"dark-wizard"}," Personal")],-1)]),2),e("li",{class:v(["col-lg-3","col-md-6","mb-3","text-start",n.value==3?"active":"",n.value>3?"done":""]),id:"confirm"},u[3]||(u[3]=[e("a",{href:"javascript:void(0);"},[e("div",{class:"iq-icon me-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("span",{class:"dark-wizard"}," Finish")],-1)]),2)]),e("div",{class:v(n.value==1?"show":"d-none")},[s(G,{onOnClick:C,accountData:d.value,onUpdateAccountData:c},null,8,["accountData"])],2),e("div",{class:v(n.value==2?"show":"d-none")},[s(J,{onOnClick:C,personalData:d.value,onUpdatePersonalData:f,onSubmit:h},null,8,["personalData"])],2),e("div",{id:"confirm",class:v(n.value==3?"show":"d-none")},[s(K)],2)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512)}}};var Y=F(X,[["__scopeId","data-v-6c978526"]]);const ee={class:"d-flex justify-content-end"},te={class:"d-flex justify-content-between"},ae={class:"d-flex align-items-center"},se=["value"],oe={class:"d-flex align-items-center"},le={class:"table-responsive"},ne={class:"table table-hover"},re={key:1},ie={"aria-label":"Page navigation",class:"mb-n5 mt-5"},de={class:"pagination justify-content-end"},ce=["disabled"],ue=["onClick"],me=["disabled"],pe={__name:"Users",setup(B){const A=j(),n=m([]),_=m(""),d=[5,10,15,20],C=m(d[0]),c=m(1),f=m(1),h=m(!1),i=async(l=1)=>{try{const t=await A.get(`/v1/auth/users?page=${l}&perPage=${C.value}`);t.data&&t.data.dataPayload&&(n.value=t.data.dataPayload.data.profiles||[],c.value=t.data.dataPayload.currentPage||1,f.value=t.data.dataPayload.totalPages||1),h.value=Array.isArray(n.value)}catch(t){console.error("Error fetching users:",t)}},u=()=>{i(1)},U=()=>{i(1)},y=l=>{l>0&&l<=f.value&&i(l)},k=q(()=>n.value.filter(l=>l.first_name.toLowerCase().includes(_.value.toLowerCase())||l.last_name.toLowerCase().includes(_.value.toLowerCase())||l.email.toLowerCase().includes(_.value.toLowerCase())));E(()=>{i(1)});const x=m(null),D=()=>{x.value.$refs.addUserModal.show()};return(l,t)=>{const P=r("b-button"),M=r("b-col"),T=r("b-form-input"),N=r("b-input-group-append"),S=r("b-input-group"),z=r("b-row"),I=r("b-card");return p(),b($,null,[s(M,{lg:"12"},{default:o(()=>[s(I,{class:"h-100"},{default:o(()=>[t[16]||(t[16]=e("div",null,[e("h2",null,"Users")],-1)),s(z,{class:"mb-3"},{default:o(()=>[s(M,{lg:"12",md:"12",sm:"12",class:"mb-3"},{default:o(()=>[e("div",ee,[s(P,{variant:"primary",onClick:D},{default:o(()=>t[8]||(t[8]=[g(" Add User ")])),_:1})])]),_:1}),s(M,{lg:"12",md:"12",sm:"12"},{default:o(()=>[e("div",te,[e("div",ae,[t[9]||(t[9]=e("label",{for:"itemsPerPage",class:"me-2"},"Items per page:",-1)),H(e("select",{id:"itemsPerPage","onUpdate:modelValue":t[0]||(t[0]=a=>C.value=a),onChange:u,class:"form-select form-select-sm",style:{width:"auto"}},[(p(),b($,null,V(d,a=>e("option",{key:a,value:a},w(a),9,se)),64))],544),[[Q,C.value]])]),e("div",oe,[s(S,null,{default:o(()=>[s(T,{placeholder:"Search...","aria-label":"Search",modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=a=>_.value=a)},null,8,["modelValue"]),s(N,null,{default:o(()=>[s(P,{variant:"primary",onClick:U},{default:o(()=>t[10]||(t[10]=[g(" Search ")])),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1}),e("div",le,[e("table",ne,[e("thead",null,[e("tr",null,[e("th",{onClick:t[2]||(t[2]=a=>l.sortTable("first_name"))},t[11]||(t[11]=[g("FirstName "),e("i",{class:"fas fa-sort"},null,-1)])),e("th",{onClick:t[3]||(t[3]=a=>l.sortTable("last_name"))},t[12]||(t[12]=[g("LastName "),e("i",{class:"fas fa-sort"},null,-1)])),e("th",{onClick:t[4]||(t[4]=a=>l.sortTable("mobile_number"))},t[13]||(t[13]=[g("Contact "),e("i",{class:"fas fa-sort"},null,-1)])),e("th",{onClick:t[5]||(t[5]=a=>l.sortTable("email"))},t[14]||(t[14]=[g("Email "),e("i",{class:"fas fa-sort"},null,-1)]))])]),e("tbody",null,[h.value&&k.value.length>0?(p(!0),b($,{key:0},V(k.value,(a,L)=>(p(),b("tr",{key:L},[e("td",null,w(a.first_name),1),e("td",null,w(a.last_name),1),e("td",null,w(a.mobile_number),1),e("td",null,w(a.email),1)]))),128)):(p(),b("tr",re,t[15]||(t[15]=[e("td",{colspan:"5",class:"text-center"},"No data to display",-1)])))])])]),e("nav",ie,[e("ul",de,[e("li",{class:v(["page-item",{disabled:c.value===1}])},[e("button",{class:"page-link",onClick:t[6]||(t[6]=a=>y(c.value-1)),disabled:c.value===1},"Previous",8,ce)],2),(p(!0),b($,null,V(f.value,a=>(p(),b("li",{key:a,class:v(["page-item",{active:c.value===a}])},[e("button",{class:"page-link",onClick:L=>y(a)},w(a),9,ue)],2))),128)),e("li",{class:v(["page-item",{disabled:c.value===f.value}])},[e("button",{class:"page-link",onClick:t[7]||(t[7]=a=>y(c.value+1)),disabled:c.value===f.value},"Next",8,me)],2)])])]),_:1})]),_:1}),s(Y,{ref_key:"addUserModal",ref:x},null,512)],64)}}};export{pe as default};
