import{_ as _e,A as re,j as o,r as V,o as i,g as le,w as t,d as l,b as e,f as pe,c as _,t as f,n as A,e as J,p as ne,z as te,m as oe,v as de,F as W,C as ae,G as K,y as fe,q as be,D as ye}from"./index.e0205fad.js";import{_ as ge}from"./01.e8096b20.js";import{_ as he}from"./RolePermissions.f4885c96.js";import"./pdfjs.7adb8c57.js";const we={key:0,class:"errors"},ke={key:0,class:"errors"},Pe={key:0,class:"errors"},xe={key:0,class:"errors"},$e={key:0,class:"errors"},Ve={key:0,class:"errors"},Ue={class:"text-center mt-4"},Ce={key:0,type:"submit",class:"btn btn-primary"},Ae={key:1,class:"btn btn-primary",disabled:""},Me={__name:"AddUser",setup(se,{expose:j}){const M=re(),{proxy:v,emit:R}=ne(),d=o({}),U=o(!1),F=()=>{z(),U.value=!U.value};j({toggleModal:F});const x={username:"",password:"",confirm_password:"",first_name:"",middle_name:"",last_name:"",mobile_number:"",email_address:""},p=o({...x});function z(){p.value={...x}}const r=()=>{d.value={}},h=o(null),G=o(!1),B=async()=>{var I,c,C,N,k,T;d.value={},G.value=!0;try{const P=await M.post("/v1/iam/auth/register",p.value);F(),P.data.alertifyPayload&&(h.value=P.data.alertifyPayload,v.$showToast({title:h.value.message||"Created successfully",icon:h.value.theme||"success"}),R("user-created")),U.value=!1,d.value={},p.value=o("")}catch(P){if(d.value=(C=(c=(I=P.response)==null?void 0:I.data)==null?void 0:c.errorPayload)==null?void 0:C.errors,Object.keys(d.value).length===0){const L=(T=(k=(N=P.response)==null?void 0:N.data)==null?void 0:k.errorPayload)==null?void 0:T.message;v.$showToast({title:L,text:L,icon:"error"})}}finally{G.value=!1}};return(I,c)=>{const C=V("b-form-input"),N=V("b-form-group"),k=V("b-col"),T=V("b-row"),P=V("b-input-group"),L=V("b-container"),X=V("b-modal");return i(),le(X,{modelValue:U.value,"onUpdate:modelValue":c[7]||(c[7]=y=>U.value=y),"no-close-on-backdrop":"",id:"addUserModal",title:"Add User","hide-footer":"",size:"xl",centered:"","body-class":"p-4 custom-modal-body",onHide:r},{default:t(()=>[l(L,{class:"p-3"},{default:t(()=>[c[10]||(c[10]=e("h3",{class:"mb-4"},"Account Information",-1)),e("form",{onSubmit:pe(B,["prevent"])},[l(T,null,{default:t(()=>[l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"Email*","label-class":"mb-2"},{default:t(()=>[l(C,{type:"email",placeholder:"Email address",modelValue:p.value.email_address,"onUpdate:modelValue":c[0]||(c[0]=y=>p.value.email_address=y),class:"mb-3"},null,8,["modelValue"]),d.value.email_address?(i(),_("div",we,f(d.value.email_address),1)):A("",!0)]),_:1})]),_:1}),l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"Username*","label-class":"mb-2"},{default:t(()=>[l(C,{type:"text",placeholder:"Username",modelValue:p.value.username,"onUpdate:modelValue":c[1]||(c[1]=y=>p.value.username=y),class:"mb-3"},null,8,["modelValue"]),d.value.username?(i(),_("div",ke,f(d.value.username),1)):A("",!0)]),_:1})]),_:1})]),_:1}),c[9]||(c[9]=e("h3",{class:"mb-4"},"Personal Information",-1)),l(T,null,{default:t(()=>[l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"First Name*","label-class":"mb-2"},{default:t(()=>[l(C,{type:"text",placeholder:"First Name",modelValue:p.value.first_name,"onUpdate:modelValue":c[2]||(c[2]=y=>p.value.first_name=y),class:"mb-3"},null,8,["modelValue"]),d.value.first_name?(i(),_("div",Pe,f(d.value.first_name),1)):A("",!0)]),_:1})]),_:1}),l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"Middle Name","label-class":"mb-2","aria-describedby":"middlename"},{default:t(()=>[l(C,{type:"text",placeholder:"Middle Name",modelValue:p.value.middle_name,"onUpdate:modelValue":c[3]||(c[3]=y=>p.value.middle_name=y),class:"mb-3"},null,8,["modelValue"]),d.value.middle_name?(i(),_("div",xe,f(d.value.middle_name),1)):A("",!0)]),_:1})]),_:1})]),_:1}),l(T,null,{default:t(()=>[l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"Last Name*","label-class":"mb-2"},{default:t(()=>[l(C,{type:"text",placeholder:"Last Name",modelValue:p.value.last_name,"onUpdate:modelValue":c[4]||(c[4]=y=>p.value.last_name=y),class:"mb-3"},null,8,["modelValue"]),d.value.last_name?(i(),_("div",$e,f(d.value.last_name),1)):A("",!0)]),_:1})]),_:1}),l(k,{md:"12",lg:"6"},{default:t(()=>[l(N,{label:"Phone Number*","label-class":"mb-2"},{default:t(()=>[l(P,{class:"mb-3"},{default:t(()=>[l(C,{type:"text",placeholder:"Phone",modelValue:p.value.mobile_number,"onUpdate:modelValue":c[5]||(c[5]=y=>p.value.mobile_number=y),onInput:c[6]||(c[6]=y=>p.value.mobile_number="+254"+p.value.mobile_number.replace(/^\+254/,""))},null,8,["modelValue"])]),_:1}),d.value.mobile_number?(i(),_("div",Ve,f(d.value.mobile_number),1)):A("",!0)]),_:1})]),_:1})]),_:1}),e("div",Ue,[G.value?(i(),_("button",Ae,c[8]||(c[8]=[e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),J(" Submitting... ")]))):(i(),_("button",Ce,"Submit"))])],32)]),_:1})]),_:1},8,["modelValue"])}}};var Se=_e(Me,[["__scopeId","data-v-6bf68f68"]]);const Ne={class:"row",style:{"max-height":"70vh",display:"flex",overflow:"hidden"}},De={class:"col-md-5 border p-3",style:{"min-height":"80%","overflow-y":"auto","max-height":"67vh"}},Be={class:"mb-3"},Te={class:"list-group"},Ie=["onClick"],Le={key:0},Ee={class:"col-md-5 border p-3",style:{"min-height":"80%","overflow-y":"auto","max-height":"67vh"}},je={class:"mb-3"},Re={class:"list-group mt-2"},Fe=["onClick"],ze={__name:"AssignSecretary",props:{user_id:{type:Number,required:!1},name:{type:String,required:!1}},setup(se,{expose:j}){const M=re(),{proxy:v}=ne(),R=o({}),d=o({}),U=o({}),F=o([]),x=o([]),p=o([]),z=o(""),r=o(""),h=se;j({show:()=>{T.value&&T.value.show()}});const G=()=>{R.value={},d.value={},U.value={},F.value=[],x.value=[],p.value=[]},B=o(null),I=o(null),c=o(0),C=o(!1),N=async()=>{if(!C.value){for(C.value=!0;!h.user_id||!h.name;)await new Promise(g=>setTimeout(g,50));B.value=h.user_id,I.value=h.name,console.log("Modal opened:",c.value++,B.value,I.value),L(),setTimeout(()=>{C.value=!1},500)}},k=()=>{G(),r.value="",z.value=""},T=o(null),P=o(null),L=async()=>{console.log("here i go",B.value,I.value);const g=await M.get(`/v1/scheduler/get-assigned-users?id=${B.value}`);U.value=g.data.dataPayload.data.available,x.value=g.data.dataPayload.data.assigned},X=async()=>{var g,w,S,m,E,Q,q,O,H,Y;try{const s=await M.post("/v1/scheduler/managed-users",{user_id:P.value,secretary_id:B.value});L(),s.data.alertifyPayload&&(d.value=s.data.alertifyPayloadI,v.$showToast({title:d.value.message||"Success",icon:d.value.theme||"success"}))}catch(s){const a=((m=(S=(w=(g=s==null?void 0:s.response)==null?void 0:g.data)==null?void 0:w.errorPayload)==null?void 0:S.errors)==null?void 0:m.message)||((q=(Q=(E=s==null?void 0:s.response)==null?void 0:E.data)==null?void 0:Q.alertifyPayload)==null?void 0:q.message),u=((Y=(H=(O=s==null?void 0:s.response)==null?void 0:O.data)==null?void 0:H.alertifyPayload)==null?void 0:Y.theme)||"error";v.$showToast({title:a,text:a,icon:u})}},y=async()=>{var g,w,S,m,E,Q,q,O,H,Y;try{const s=await M.delete(`/v1/scheduler/managed-users/${B.value}/${P.value}`);L(),s.data.alertifyPayload?(d.value=s.data.alertifyPayload,v.$showToast({title:d.value.message||"success",icon:"success"})):v.$showToast({title:"success",icon:"success"})}catch(s){const a=((m=(S=(w=(g=s==null?void 0:s.response)==null?void 0:g.data)==null?void 0:w.errorPayload)==null?void 0:S.errors)==null?void 0:m.message)||((q=(Q=(E=s==null?void 0:s.response)==null?void 0:E.data)==null?void 0:Q.alertifyPayload)==null?void 0:q.message),u=((Y=(H=(O=s==null?void 0:s.response)==null?void 0:O.data)==null?void 0:H.alertifyPayload)==null?void 0:Y.theme)||"error";v.$showToast({title:a,text:a,icon:u})}},Z=o("");te(()=>z.value,g=>{ee(h.roleName,g)}),te(()=>r.value,g=>{Z.value="assinged",ee(h.roleName,g)});const ee=async(g,w)=>{var S;try{const m=await M.get(`v1/auth/manage-role?id=${g}&_q=${w}`);Z.value==="assinged"?(x.value=m.data.dataPayload.data.assigned.roles,p.value=m.data.dataPayload.data.assigned.permissions):(U.value=m.data.dataPayload.data.available.roles,F.value=m.data.dataPayload.data.available.permissions)}catch(m){R.value=m.response.data.errorPayload.errors;const E=((S=m.response.data.errorPayload.errors)==null?void 0:S.message)||m.response.errorPayload.message||"An unknown error occurred";v.$showToast({title:"An error occurred",text:E,icon:"error"})}};return(g,w)=>{const S=V("b-modal");return i(),le(S,{ref_key:"assignModal",ref:T,onShow:N,title:I.value,class:"modal-fullscreen modal rounded-3","no-close-on-backdrop":"","no-close-on-esc":"",size:"xl","hide-footer":"",onHide:k},{default:t(()=>[e("div",Ne,[e("div",De,[w[2]||(w[2]=e("h5",null,"Available Items",-1)),e("div",Be,[oe(e("input",{type:"text",class:"form-control","onUpdate:modelValue":w[0]||(w[0]=m=>z.value=m),placeholder:"Search users..."},null,512),[[de,z.value]])]),e("div",null,[e("ul",Te,[(i(!0),_(W,null,ae(U.value,m=>(i(),_("li",{key:m.user_id,class:K(["list-group-item",{active:P.value===m.user_id}]),onClick:E=>P.value=m.user_id},f(m.fullname),11,Ie))),128))]),!U.value||Object.keys(U.value).length===0?(i(),_("div",Le,"No Users available")):A("",!0)])]),e("div",{class:"col-md-2 d-flex flex-column justify-content-center align-items-center",style:{position:"sticky",top:"0",height:"70vh","background-color":"white","z-index":"10"}},[e("button",{class:"btn btn-primary mb-2",onClick:X},">>"),e("button",{class:"btn btn-danger",onClick:y},"<<")]),e("div",Ee,[w[3]||(w[3]=e("h5",null,"Assigned Items",-1)),e("div",je,[oe(e("input",{type:"text",class:"form-control","onUpdate:modelValue":w[1]||(w[1]=m=>r.value=m),placeholder:"Search Assigned Users..."},null,512),[[de,r.value]])]),e("div",null,[e("ul",Re,[(i(!0),_(W,null,ae(x.value,m=>(i(),_("li",{key:m.user_id,class:K(["list-group-item",{active:P.value===m.user_id}]),onClick:E=>P.value=m.user_id},f(m.fullname),11,Fe))),128))])])])])]),_:1},8,["title"])}}};const qe={class:"d-flex justify-content-between"},Oe={class:"d-flex align-items-center"},He=["value"],Ge={class:"d-flex align-items-center"},Qe={class:"table-responsive"},Ye={class:"table table-hover"},Je=["onClick"],Ke={key:1},We={"aria-label":"Page navigation",class:"mb-n5 mt-5"},Xe={class:"pagination justify-content-end"},Ze=["disabled"],ea=["onClick"],aa=["disabled"],la={class:"profile-picture d-flex align-items-center"},sa={class:"ms-3 d-flex align-items-center"},ta={class:"form-check form-switch"},oa=["checked"],ra={class:"form-check-label",for:"statusSwitch"},na={key:0,class:"error ms-3","aria-live":"polite"},ua={class:"mb-3"},da={key:0,class:"error","aria-live":"polite"},ia={class:"mb-3"},ca={key:0,class:"error","aria-live":"polite"},ma={class:"mb-3"},va={key:0,class:"error","aria-live":"polite"},_a={class:"mb-3"},pa={key:0,class:"error","aria-live":"polite"},fa={class:"mb-3"},ba={key:0,class:"error","aria-live":"polite"},ya={class:"mb-3"},ga={key:0,class:"error","aria-live":"polite"},ha={class:"mb-3"},wa={class:"d-flex justify-content-center"},ka={key:1,class:"btn btn-primary",type:"button",disabled:""},Ca={__name:"UsersView",setup(se){const j=re(),{proxy:M}=ne(),v=o({}),R=o([]),d=o(""),U=[20,50,100],F=o(U[0]),x=o(1),p=o(1),z=o(!1),r=o({roles:[""],user_id:""}),h=async s=>{try{const a={page:s,"per-page":F.value};d.value&&(a._search=d.value);const u=await j.get("/v1/iam/users",{params:a});u.data&&u.data.dataPayload&&(R.value=u.data.dataPayload.data,x.value=u.data.dataPayload.currentPage||1,p.value=u.data.dataPayload.totalPages||1),z.value=Array.isArray(R.value),console.log("tableData",R.value)}catch{}};te(d,()=>{h()});const G=()=>{h()},B=s=>{s>0&&s<=p.value&&h(s)},I=fe(()=>R.value.filter(s=>s.fullname.toLowerCase().includes(d.value.toLowerCase())||s.last_name.toLowerCase().includes(d.value.toLowerCase())||s.email.toLowerCase().includes(d.value.toLowerCase()))),c=o(null),C=()=>{c.value.toggleModal()},N=async s=>{var a,u;v.value={};try{const $=await j.get(`/v1/iam/auth/user/${s}`);$.data.dataPayload&&!$.data.errorPayload&&(r.value=$.data.dataPayload.data.user),console.log("userData",r.value)}catch($){const b=((a=$.response.data.errorPayload.errors)==null?void 0:a.message)||"An unknown error occurred";v.value=(u=$.response.data.errorPayload)==null?void 0:u.errors,M.$showToast({title:"An error occurred",text:b,icon:"error"})}},k=o(null),T=s=>{k.value&&k.value.show(),N(s)},P=o([]),L=o({}),X=async()=>{try{const s=await j.get("/v1/iam/rbac/roles");L.value=Object.values(s.data.dataPayload.data),P.value=L.value.map(a=>a.name),console.log("roles",P.value)}catch(s){console.error(s)}},y=o(!1),Z=o(null),ee=o(""),g=o(""),w=()=>{g.value=r.value.username,ee.value=r.value.user_id,Z.value.$refs.roleModal.show()};be(()=>{h(),X()});const S=o(""),m=async s=>{var a,u,$;console.log("id",s);try{const b=await j.put(`/v1/iam/auth/lock-account/${s}`);b.data.dataPayload?(S.value=b.data.dataPayload.data.message,M.$showAlert({icon:S.value.theme||"success",text:S.value.message||"Status updated",timer:4e3,showCancelButton:!1,showConfirmButton:!1,timerProgressBar:!0})):M.$showAlert({title:"success",icon:"success",showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),h(),k.value.hide()}catch(b){let D="An error occurred";throw($=(u=(a=b.response)==null?void 0:a.data.errorPayload)==null?void 0:u.errors)!=null&&$.message&&(D=b.response.data.errorPayload.errors.message),M.$showToast({title:D,text:D,icon:"error"}),b}},E=s=>{const a=r.value.status;r.value.status===10?r.value.status=9:r.value.status=10,M.$showAlert({title:"Are you sure?",text:"You are about to change the status of this user. Do you want to proceed?",icon:"warning",showCancelButton:!0,confirmButtonText:"yes",cancelButtonText:"cancel",confirmButtonColor:"#076232",cancelButtonColor:"#d33"}).then(u=>{u.isConfirmed?m(s):(r.value.status=a,console.log("userData.value.status ori",r.value.status))})},Q=async()=>{var s,a,u,$;y.value=!0,v.value={};try{const b=await j.put(`/v1/admin/profile/${r.value.user_id}`,r.value);b.data.dataPayload&&M.$showAlert({title:b.data.dataPayload.data.theme||"success",text:b.data.dataPayload.data.Message||"User updated",icon:b.data.dataPayload.data.theme||"success",showCancelButton:!1,showConfirmButton:!1,timer:4e3,timerProgressBar:!0}),h(1),k.value.hide()}catch(b){y.value=!1;let D;throw(u=(a=(s=b.response)==null?void 0:s.data.errorPayload)==null?void 0:a.errors)!=null&&u.message&&(D=b.response.data.errorPayload.errors.message,M.$showAlert({title:D,text:D,icon:"error"})),v.value=($=b.response.data.errorPayload)==null?void 0:$.errors,b}finally{y.value=!1}},q=o(null),O=o(null),H=o(null),Y=()=>{O.value=r.value.user_id,H.value=r.value.name,q.value&&q.value.show()};return(s,a)=>{const u=V("b-col"),$=V("b-row"),b=V("b-form-input"),D=V("b-button"),ie=V("b-input-group-append"),ce=V("b-input-group"),me=V("b-card"),ve=V("b-modal");return i(),_(W,null,[l(u,{lg:"12"},{default:t(()=>[l(me,{class:"h-100"},{default:t(()=>[l($,{class:"mb-5"},{default:t(()=>[l(u,{lg:"6"},{default:t(()=>a[12]||(a[12]=[e("div",null,[e("h2",null,"Users")],-1)])),_:1}),l(u,{lg:"6"},{default:t(()=>[e("div",{class:"d-flex justify-content-end"},[e("button",{variant:"primary",onClick:C,class:"btn btn-primary"},"Add User")])]),_:1})]),_:1}),l($,{class:"mb-3"},{default:t(()=>[l(u,{lg:"12",md:"12",sm:"12"},{default:t(()=>[e("div",qe,[e("div",Oe,[oe(e("select",{id:"itemsPerPage","onUpdate:modelValue":a[0]||(a[0]=n=>F.value=n),onChange:G,class:"form-select form-select-sm",style:{width:"auto"}},[(i(),_(W,null,ae(U,n=>e("option",{key:n,value:n},f(n),9,He)),64))],544),[[ye,F.value]])]),e("div",Ge,[l(ce,null,{default:t(()=>[l(b,{placeholder:"Search...","aria-label":"Search",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=n=>d.value=n)},null,8,["modelValue"]),l(ie,null,{default:t(()=>[l(D,{variant:"primary",onClick:a[2]||(a[2]=n=>h())},{default:t(()=>a[13]||(a[13]=[J(" Search ")])),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1}),e("div",Qe,[e("table",Ye,[a[16]||(a[16]=e("thead",null,[e("tr",null,[e("th",null,"FirstName"),e("th",null,"Username"),e("th",null,"Mobile Number"),e("th",null,"Email"),e("th",null,"Role"),e("th",null,"Last Activity"),e("th",null,"Status"),e("th",null,"Actions")])],-1)),e("tbody",null,[z.value&&I.value.length>0?(i(!0),_(W,{key:0},ae(I.value,(n,ue)=>(i(),_("tr",{key:ue,class:"px-3"},[e("td",null,f(n.fullname),1),e("td",null,f(n.username),1),e("td",null,f(n.mobile),1),e("td",null,f(n.email),1),e("td",null,f(n.roles[0]),1),e("td",null,f(n.last_Activity),1),e("td",null,[e("span",{class:K(n.status===10?"badge bg-success":"badge bg-warning")},f(n.status===10?"Active":"Inactive"),3)]),e("td",null,[e("button",{class:"btn btn-outline-primary btn-sm me-3",onClick:Pa=>T(n.id)},a[14]||(a[14]=[e("i",{class:"fas fa-eye",title:"View"},null,-1)]),8,Je)])]))),128)):(i(),_("tr",Ke,a[15]||(a[15]=[e("td",{colspan:"6",class:"text-center"},"No records found.",-1)])))])])]),e("nav",We,[e("ul",Xe,[e("li",{class:K(["page-item",{disabled:x.value===1}])},[e("button",{class:"page-link",onClick:a[3]||(a[3]=n=>B(x.value-1)),disabled:x.value===1},"Previous",8,Ze)],2),(i(!0),_(W,null,ae(p.value,n=>(i(),_("li",{key:n,class:K(["page-item",{active:x.value===n}])},[e("button",{class:"page-link",onClick:ue=>B(n)},f(n),9,ea)],2))),128)),e("li",{class:K(["page-item",{disabled:x.value===p.value}])},[e("button",{class:"page-link",onClick:a[4]||(a[4]=n=>B(x.value+1)),disabled:x.value===p.value},"Next",8,aa)],2)])])]),_:1})]),_:1}),l(Se,{ref_key:"addUserModal",ref:c,onUserCreated:a[5]||(a[5]=n=>h(1))},null,512),l(he,{ref_key:"roleModal",ref:Z,roleName:g.value,user_id:ee.value},null,8,["roleName","user_id"]),l(ze,{ref_key:"assignModal",ref:q,user_id:O.value,name:H.value},null,8,["user_id","name"]),l(ve,{ref_key:"ViewUser",ref:k,title:r.value.username,class:"modal custom-modal modal-xl fade",id:"edit_user","hide-footer":""},{"modal-header":t(({close:n})=>[a[18]||(a[18]=e("h5",{class:"modal-title"},"User Details",-1)),l(D,{variant:"light",onClick:n,class:"close"},{default:t(()=>a[17]||(a[17]=[J(" \xD7 ")])),_:2},1032,["onClick"])]),default:t(()=>[l($,{class:"mb-5"},{default:t(()=>[l(u,{cols:"5",class:"mb-5"},{default:t(()=>[e("div",la,[a[20]||(a[20]=e("div",{class:"col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center text-center"},[e("img",{id:"blah2",class:"avatar circular-img",src:ge,alt:"profile-img"})],-1)),e("div",sa,[a[19]||(a[19]=e("label",{class:"px-3"},"Status:",-1)),e("span",{class:K(r.value.status===10?"badge bg-success":"badge bg-warning")},f(r.value.status===10?"Active":"Deactivated"),3)])])]),_:1}),l(u,{md:"12",lg:"5",class:"mb-5 d-flex align-items-center"},{default:t(()=>[e("div",ta,[e("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:r.value.status===10,onChange:a[6]||(a[6]=n=>E(r.value.user_id))},null,40,oa),e("label",ra,f(r.value.status===10?"Lock Account":"Unlock Account"),1)]),v.value.status?(i(),_("div",na,f(v.value.status),1)):A("",!0)]),_:1}),l(u,{md:"12",lg:"2",class:"mb-5 d-flex align-items-center"},{default:t(()=>[e("div",ua,[l(D,{onClick:w,variant:"outline-primary",class:"w-100"},{default:t(()=>a[21]||(a[21]=[J("Manage Roles")])),_:1})]),v.value.role?(i(),_("div",da,f(v.value.role),1)):A("",!0)]),_:1}),l(u,{md:"12",lg:"6"},{default:t(()=>[e("div",ia,[a[22]||(a[22]=e("label",{for:"startDatePicker",class:"form-label"},"First Name",-1)),l(b,{modelValue:r.value.first_name,"onUpdate:modelValue":a[7]||(a[7]=n=>r.value.first_name=n),id:"startDatePicker",type:"text",placeholder:"Enter Role Name"},null,8,["modelValue"])]),v.value.first_name?(i(),_("div",ca,f(v.value.first_name),1)):A("",!0)]),_:1}),l(u,{md:"12",lg:"6"},{default:t(()=>[e("div",ma,[a[23]||(a[23]=e("label",{for:"startDatePicker",class:"form-label"},"Last Name",-1)),l(b,{modelValue:r.value.last_name,"onUpdate:modelValue":a[8]||(a[8]=n=>r.value.last_name=n),id:"roledata",type:"text",placeholder:"Enter Role data"},null,8,["modelValue"])]),v.value.last_name?(i(),_("div",va,f(v.value.first_last),1)):A("",!0)]),_:1}),l(u,{md:"12",lg:"6"},{default:t(()=>[e("div",_a,[a[24]||(a[24]=e("label",{for:"roledescription",class:"form-label"},"Username",-1)),l(b,{modelValue:r.value.username,"onUpdate:modelValue":a[9]||(a[9]=n=>r.value.username=n),id:"roledescription",type:"text",placeholder:"Enter description"},null,8,["modelValue"])]),v.value.username?(i(),_("div",pa,f(v.value.username),1)):A("",!0)]),_:1}),l(u,{md:"12",lg:"6"},{default:t(()=>[e("div",fa,[a[25]||(a[25]=e("label",{for:"roledescription",class:"form-label"},"Phone Number",-1)),l(b,{modelValue:r.value.mobile_number,"onUpdate:modelValue":a[10]||(a[10]=n=>r.value.mobile_number=n),id:"roledescription",type:"text",placeholder:"Enter description"},null,8,["modelValue"])]),v.value.mobile_number?(i(),_("div",ba,f(v.value.mobile_number),1)):A("",!0)]),_:1}),l(u,{md:12,lg:r.value.roles[0]==="secretary"?6:12},{default:t(()=>[e("div",ya,[a[26]||(a[26]=e("label",{for:"rolerulename",class:"form-label"},"Email",-1)),l(b,{modelValue:r.value.email_address,"onUpdate:modelValue":a[11]||(a[11]=n=>r.value.email_address=n),id:"rolerulename",type:"text",placeholder:"Enter Role data"},null,8,["modelValue"])]),v.value.email_address?(i(),_("div",ga,f(v.value.email),1)):A("",!0)]),_:1},8,["lg"]),r.value.roles[0]==="secretary"?(i(),le(u,{key:0,md:"12",lg:"6"},{default:t(()=>[e("div",ha,[a[28]||(a[28]=e("label",{for:"roledescription",class:"form-label"},"Assign Users ",-1)),l(D,{onClick:Y,variant:"outline-primary",class:"w-100"},{default:t(()=>a[27]||(a[27]=[J(" Assign ")])),_:1})])]),_:1})):A("",!0)]),_:1}),e("div",wa,[y.value===!1?(i(),le(D,{key:0,onClick:Q,variant:"outline-primary"},{default:t(()=>a[29]||(a[29]=[J("Update")])),_:1})):(i(),_("button",ka,a[30]||(a[30]=[e("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"},null,-1),J(" submitting... ")])))])]),_:1},8,["title"])],64)}}};export{Ca as default};
