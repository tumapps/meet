import{_ as g,h as i,A as x,c as d,b as e,d as u,w as R,C as k,k as c,v as p,t as v,l as _,u as P,r as b,o as m,N as A,m as C}from"./index.3cdb8f43.js";var I="/assets/tum.1b3ff2ed.jpg";const V={class:"login-content"},q={class:"row m-0 align-items-center bg-white vh-100"},B={class:"col-md-6 p-0"},E={class:"card card-transparent auth-card shadow-none d-flex justify-content-center mb-0"},N={class:"card-body"},S={class:"logo-title ms-3 mb-0"},D={class:"row"},U={class:"col-lg-12"},$={class:"floating-label form-group"},j={key:0,class:"error","aria-live":"polite"},M={class:"col-lg-12"},z={class:"floating-label form-group"},L={key:0,class:"error","aria-live":"polite"},O={__name:"RequestPasswordReset",setup(T){P();const{proxy:o}=C(),r=i(""),n=i(""),f=x(),t=i({email:"",username:""}),y=async()=>{t.value={email:"",username:""};try{const a=await f.post("/v1/auth/password-reset-request",{email:r.value,username:n.value},{headers:{"X-Exclude-Interceptor":!0}});a.data.dataPayload&&!a.data.dataPayload.error&&o.$showAlert({title:"Success",text:"An email has been sent to you with instructions to reset your password!",icon:"success"}).then(()=>{o.$router.push("/")})}catch(a){if(o.$showAlert({title:"Oops!",text:"An error occurred while sending the password reset email!",icon:"error"}),a.response&&a.response.status===422&&a.response.data.errorPayload){const s=a.response.data.errorPayload.errors;t.value.email=s.email||"",t.value.username=s.username||""}}};return(a,s)=>{const h=b("brand-name"),w=b("router-link");return m(),d("section",V,[e("div",q,[s[7]||(s[7]=e("div",{class:"col-md-6 d-md-block d-none bg-primary p-0 vh-100 overflow-hidden"},[e("img",{src:I,class:"img-fluid gradient-main",alt:"images",loading:"lazy"})],-1)),e("div",B,[e("div",E,[e("div",N,[u(w,{to:{name:"default.dashboard"},class:"navbar-brand d-flex align-items-center mb-3"},{default:R(()=>[u(A),e("h4",S,[u(h)])]),_:1}),s[5]||(s[5]=e("h2",{class:"mb-2"},"Reset Password",-1)),s[6]||(s[6]=e("p",null,"Enter your email address and username, and we'll send you an email with instructions to reset your password.",-1)),e("form",{onSubmit:k(y,["prevent"])},[e("div",D,[e("div",U,[e("div",$,[s[2]||(s[2]=e("label",{for:"username",class:"form-label"},"Username",-1)),c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),type:"text",class:"form-control",id:"username","aria-describedby":"username",placeholder:" "},null,512),[[p,n.value]]),t.value.username?(m(),d("div",j,v(t.value.username),1)):_("",!0)])]),e("div",M,[e("div",z,[s[3]||(s[3]=e("label",{for:"email",class:"form-label"},"Email",-1)),c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l),type:"email",class:"form-control",id:"email","aria-describedby":"email",placeholder:" "},null,512),[[p,r.value]]),t.value.email?(m(),d("div",L,v(t.value.email),1)):_("",!0)])])]),s[4]||(s[4]=e("button",{type:"submit",class:"btn btn-primary"},"Reset",-1))],32)])])])])])}}};var F=g(O,[["__scopeId","data-v-4800d63e"]]);export{F as default};
