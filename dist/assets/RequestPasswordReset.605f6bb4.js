import{_ as h,j as r,A as w,c as u,b as s,d as n,w as x,l as m,f as P,m as B,v as C,t as R,n as k,u as I,r as c,o as p,U as S,p as V}from"./index.e0205fad.js";import"./pdfjs.7adb8c57.js";var j="/assets/tum.1b3ff2ed.jpg";const q={class:"login-content"},A={class:"row m-0 align-items-center bg-white vh-100"},N={class:"col-md-6 p-0"},U={class:"card card-transparent auth-card shadow-none d-flex justify-content-center mb-0"},D={class:"card-body"},E={class:"logo-title ms-3 mb-0"},$={class:"row"},L={class:"col-lg-12"},M={class:"floating-label form-group"},z={key:0,class:"error","aria-live":"polite"},J={class:"d-flex justify-content-between"},O={__name:"RequestPasswordReset",setup(T){const l=I(),{proxy:i}=V(),_=r(""),o=r(""),f=w(),a=r({email:"",username:""}),v=localStorage.getItem("menus")?JSON.parse(localStorage.getItem("menus"))[0].route:"",y=async()=>{a.value={email:"",username:""};try{const t=await f.post("/v1/iam/auth/password-reset-request",{email:_.value,username:o.value},{headers:{"X-Exclude-Interceptor":!0}});t.data.alertifyPayload&&i.$showAlert({title:t.data.alertifyPayload.theme,text:t.data.alertifyPayload.message,icon:t.data.alertifyPayload.theme,showConfirmButton:!1,showCancelButton:!1,timerProgressBar:!0,willClose:()=>{l.push("/auth/login")}})}catch(t){if(t.response.status!==422&&i.$showAlert({title:t.response.data.errorPayload.theme,text:t.response.data.errorPayload.message,icon:t.response.data.errorPayload.theme,showCancelButton:!1,showConfirmButton:!1}),t.response&&t.response.status===422&&t.response.data.errorPayload){const e=t.response.data.errorPayload.errors;console.log("Validation error details:",e),a.value.email=e.email||"",a.value.username=e.username||""}}};return(t,e)=>{const b=c("brand-name"),g=c("router-link");return p(),u("section",q,[s("div",A,[e[6]||(e[6]=s("div",{class:"col-md-6 d-md-block d-none bg-primary p-0 vh-100 overflow-hidden"},[s("img",{src:j,class:"img-fluid gradient-main",alt:"images",loading:"lazy"})],-1)),s("div",N,[s("div",U,[s("div",D,[n(g,{to:{name:m(v)},class:"navbar-brand d-flex align-items-center mb-3"},{default:x(()=>[n(S),s("h4",E,[n(b)])]),_:1},8,["to"]),e[4]||(e[4]=s("h2",{class:"mb-2"},"Reset Password",-1)),e[5]||(e[5]=s("p",null,"Enter your Username, and we'll send you an email with instructions on how to reset your password.",-1)),s("form",{onSubmit:P(y,["prevent"])},[s("div",$,[s("div",L,[s("div",M,[e[2]||(e[2]=s("label",{for:"username",class:"form-label"},"Username",-1)),B(s("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>o.value=d),type:"text",class:"form-control",id:"username","aria-describedby":"username",placeholder:" "},null,512),[[C,o.value]]),a.value.username?(p(),u("div",z,R(a.value.username),1)):k("",!0)])])]),s("div",J,[e[3]||(e[3]=s("button",{type:"submit",class:"btn btn-primary"},"Reset",-1)),s("button",{type:"button",class:"btn btn-outline-warning",onClick:e[1]||(e[1]=d=>m(l).push("/auth/login"))},"Back to Login")])],32)])])])])])}}};var G=h(O,[["__scopeId","data-v-e705a9ba"]]);export{G as default};
