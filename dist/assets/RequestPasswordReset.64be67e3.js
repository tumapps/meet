import{_ as y,j as r,A as w,c as u,b as e,d as n,w as x,l as m,f as P,m as B,v as C,t as R,n as k,u as I,r as c,o as p,U as S,p as T}from"./index.c5eecd97.js";import"./pdfjs.7adb8c57.js";var j="/assets/tum.1b3ff2ed.jpg";const q={class:"login-content"},A={class:"row m-0 align-items-center bg-white vh-100"},M={class:"col-md-6 p-0"},N={class:"card card-transparent auth-card shadow-none d-flex justify-content-center mb-0"},U={class:"card-body"},V={class:"logo-title ms-3 mb-0"},D={class:"row"},E={class:"col-lg-12"},$={class:"floating-label form-group"},L={key:0,class:"error","aria-live":"polite"},z={class:"d-flex justify-content-between"},J={__name:"RequestPasswordReset",setup(O){const l=I(),{proxy:i}=T(),_=r(""),o=r(""),v=w(),a=r({email:"",username:""}),f=localStorage.getItem("menus")?JSON.parse(localStorage.getItem("menus"))[0].route:"",b=async()=>{a.value={email:"",username:""};try{const t=await v.post("/v1/auth/password-reset-request",{email:_.value,username:o.value},{headers:{"X-Exclude-Interceptor":!0}});t.data.toastPayload&&i.$showAlert({title:t.data.toastPayload.toastTheme,text:t.data.toastPayload.toastMessage,icon:t.data.toastPayload.toastTheme,showConfirmButton:!1,showCancelButton:!1,timerProgressBar:!0,willClose:()=>{l.push("/auth/login")}})}catch(t){if(t.response.status!==422&&i.$showAlert({title:t.response.data.errorPayload.toastTheme,text:t.response.data.errorPayload.toastMessage,icon:t.response.data.errorPayload.toastTheme,showCancelButton:!1,showConfirmButton:!1}),t.response&&t.response.status===422&&t.response.data.errorPayload){const s=t.response.data.errorPayload.errors;a.value.email=s.email||"",a.value.username=s.username||""}}};return(t,s)=>{const g=c("brand-name"),h=c("router-link");return p(),u("section",q,[e("div",A,[s[6]||(s[6]=e("div",{class:"col-md-6 d-md-block d-none bg-primary p-0 vh-100 overflow-hidden"},[e("img",{src:j,class:"img-fluid gradient-main",alt:"images",loading:"lazy"})],-1)),e("div",M,[e("div",N,[e("div",U,[n(h,{to:{name:m(f)},class:"navbar-brand d-flex align-items-center mb-3"},{default:x(()=>[n(S),e("h4",V,[n(g)])]),_:1},8,["to"]),s[4]||(s[4]=e("h2",{class:"mb-2"},"Reset Password",-1)),s[5]||(s[5]=e("p",null,"Enter your Username, and we'll send you an email with instructions on how to reset your password.",-1)),e("form",{onSubmit:P(b,["prevent"])},[e("div",D,[e("div",E,[e("div",$,[s[2]||(s[2]=e("label",{for:"username",class:"form-label"},"Username",-1)),B(e("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>o.value=d),type:"text",class:"form-control",id:"username","aria-describedby":"username",placeholder:" "},null,512),[[C,o.value]]),a.value.username?(p(),u("div",L,R(a.value.username),1)):k("",!0)])])]),e("div",z,[s[3]||(s[3]=e("button",{type:"submit",class:"btn btn-primary"},"Reset",-1)),e("button",{type:"button",class:"btn btn-outline-warning",onClick:s[1]||(s[1]=d=>m(l).push("/auth/login"))},"Back to Login")])],32)])])])])])}}};var G=y(J,[["__scopeId","data-v-08d4793f"]]);export{G as default};
